<!DOCTYPE html>
{% extends "base.html" %}
{% block body %}
<script type="text/javascript">
	(function($){
		$(window).on("load",function() {
			$('#upload').click(function () {
				var file = $('#fileData').val();
				//var fileName =
				//alert(123);
				$.ajax({
					type: 'POST',
					url: "{% url 'SystemArticle_upload_file' %}",//服务器端程序
					//secureuri:false,
					//fileKey: 'fileData',
					data: {'file': file},
					fileElementId: 'fileData',//input框的ID
					//dataType: 'json',//返回数据类型

					beforeSend: function () {//上传前需要处理的工作，如显示Loading...
						//alert('loading');
					},
					success: function (upload_info) {//上传成功
						alert('success');
						alert(upload_info);
						$('#state').html(upload_info);
						$('#state').attr('href', upload_info);
					},
					error: function (upload_info, errorThrown) {
						alert('error');

					}
				});
			});
		});
	})(jQuery);
</script>
	<div class="container" style="height:600px">
		<br>
		<br>
		<br>	
		<br>	
		<br>	
		<br>	
		<br>


		 <form enctype="multipart/form-data" id = 'uploadForm'>
    		{% csrf_token %}
    		<input type="file" id="fileData" name="fileData">
    		<button id = "upload" type="button">upload</button>
		</form>

		您上传的文件链接为: <a id="state" href=""></a>
    </div>
{% endblock %}
</html>